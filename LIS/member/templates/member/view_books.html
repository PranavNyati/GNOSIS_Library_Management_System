{% extends 'member/member_navbar.html' %}
{% load static %}
{% block title %} Library Information System {% endblock %}
{% block css %}
{% endblock %}
{% block body %}

<style>
    .btn-issue{
        background-color: rgb(1, 144, 1);
    }

    .btn-reserve{
        background-color: rgb(0, 153, 255)
    }
</style>

<div class="container mt-4">
    <h1 class="text-center"><u>All Books List</u></h1>
    <table class="table table-hover" id="example">
        <thead>
            <tr>
                <th>Sr.No</th>
                <th>ISBN</th>
                <th>Title</th>
                <th>Author(s)</th>
                <th>Rack Number</th>
                <th>Currently Issued</th>
                <th>Issue/Reserve</th>  
            </tr>
        </thead>
        <tbody>
            {% for book in books %}
            <tr>
                <td>{{forloop.counter}}.</td>
                <td>{{book.isbn}}</td>
                <td>{{book.title}}</td>
                <td>{{book.author}}</td>
                <td>{{book.rack_number}}</td>

                {% if book.issue_date == null or book.issue_date == "" %}
                    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yes</td>
                    <td><a href="/member/reserve_book/{{book.id}}/" class="btn btn-reserve" onclick="return confirm('Are you sure you want to Reserve this book?')">Reserve</a></td>
                {% else %}
                    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No</td>
                    <td><a href="/member/issue_book/{{book.id}}/" class="btn btn-issue" onclick="return confirm('Are you sure you want to Issue this book?')">Issue</a></td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}
